export type Language = 'en' | 'es' | 'zh' | 'hi' | 'fr'

const translations: Record<Language, Record<string, string>> = {
  en: {
    'app.title': 'WifiTOP',
    'app.subtitle': 'Show off your WiFi speed',
    'app.description': 'Global ranking with 10,000+ users | Accurate measurements | Exclusive badges',
    'test.start': 'Start Test',
    'test.testing': 'Testing...',
    'test.download': 'Download',
    'test.upload': 'Upload',
    'test.ping': 'Ping',
    'test.jitter': 'Jitter',
    'test.stability': 'Stability',
    'test.enterName': 'Enter your name',
    'test.anonymous': 'Anonymous Mode',
    'ranking.title': 'Global Ranking',
    'ranking.position': 'Position',
    'ranking.user': 'User',
    'ranking.speed': 'Speed',
    'ranking.location': 'Location',
    'stats.tests': 'Tests Completed',
    'stats.maxSpeed': 'Max Speed',
    'stats.avgSpeed': 'Average Speed',
    'badges.title': 'Your Badges',
    'badges.none': 'Complete tests to unlock badges',
  },
  es: {
    'app.title': 'WifiTOP',
    'app.subtitle': 'Presume tu velocidad de WiFi',
    'app.description': 'Ranking global con 10,000+ usuarios | Mediciones precisas | Badges exclusivos',
    'test.start': 'Iniciar Test',
    'test.testing': 'Probando...',
    'test.download': 'Descarga',
    'test.upload': 'Subida',
    'test.ping': 'Ping',
    'test.jitter': 'Jitter',
    'test.stability': 'Estabilidad',
    'test.enterName': 'Ingresa tu nombre',
    'test.anonymous': 'Modo Anónimo',
    'ranking.title': 'Ranking Global',
    'ranking.position': 'Posición',
    'ranking.user': 'Usuario',
    'ranking.speed': 'Velocidad',
    'ranking.location': 'Ubicación',
    'stats.tests': 'Tests Completados',
    'stats.maxSpeed': 'Velocidad Máxima',
    'stats.avgSpeed': 'Velocidad Promedio',
    'badges.title': 'Tus Badges',
    'badges.none': 'Completa tests para desbloquear badges',
  },
  zh: {
    'app.title': 'WifiTOP',
    'app.subtitle': '展示你的WiFi速度',
    'app.description': '全球排名10,000+用户 | 精准测量 | 专属徽章',
    'test.start': '开始测试',
    'test.testing': '测试中...',
    'test.download': '下载',
    'test.upload': '上传',
    'test.ping': '延迟',
    'test.jitter': '抖动',
    'test.stability': '稳定性',
    'test.enterName': '输入你的名字',
    'test.anonymous': '匿名模式',
    'ranking.title': '全球排名',
    'ranking.position': '排名',
    'ranking.user': '用户',
    'ranking.speed': '速度',
    'ranking.location': '位置',
    'stats.tests': '完成测试',
    'stats.maxSpeed': '最高速度',
    'stats.avgSpeed': '平均速度',
    'badges.title': '你的徽章',
    'badges.none': '完成测试解锁徽章',
  },
  hi: {
    'app.title': 'WifiTOP',
    'app.subtitle': 'अपनी WiFi गति दिखाएं',
    'app.description': 'वैश्विक रैंकिंग 10,000+ उपयोगकर्ता | सटीक माप | विशेष बैज',
    'test.start': 'टेस्ट शुरू करें',
    'test.testing': 'परीक्षण...',
    'test.download': 'डाउनलोड',
    'test.upload': 'अपलोड',
    'test.ping': 'पिंग',
    'test.jitter': 'जिटर',
    'test.stability': 'स्थिरता',
    'test.enterName': 'अपना नाम दर्ज करें',
    'test.anonymous': 'अनाम मोड',
    'ranking.title': 'वैश्विक रैंकिंग',
    'ranking.position': 'स्थिति',
    'ranking.user': 'उपयोगकर्ता',
    'ranking.speed': 'गति',
    'ranking.location': 'स्थान',
    'stats.tests': 'पूर्ण परीक्षण',
    'stats.maxSpeed': 'अधिकतम गति',
    'stats.avgSpeed': 'औसत गति',
    'badges.title': 'आपके बैज',
    'badges.none': 'बैज अनलॉक करने के लिए परीक्षण पूरा करें',
  },
  fr: {
    'app.title': 'WifiTOP',
    'app.subtitle': 'Montrez votre vitesse WiFi',
    'app.description': 'Classement mondial 10,000+ utilisateurs | Mesures précises | Badges exclusifs',
    'test.start': 'Démarrer le test',
    'test.testing': 'Test en cours...',
    'test.download': 'Téléchargement',
    'test.upload': 'Téléversement',
    'test.ping': 'Ping',
    'test.jitter': 'Gigue',
    'test.stability': 'Stabilité',
    'test.enterName': 'Entrez votre nom',
    'test.anonymous': 'Mode anonyme',
    'ranking.title': 'Classement mondial',
    'ranking.position': 'Position',
    'ranking.user': 'Utilisateur',
    'ranking.speed': 'Vitesse',
    'ranking.location': 'Localisation',
    'stats.tests': 'Tests complétés',
    'stats.maxSpeed': 'Vitesse maximale',
    'stats.avgSpeed': 'Vitesse moyenne',
    'badges.title': 'Vos badges',
    'badges.none': 'Complétez des tests pour débloquer des badges',
  },
}

export function t(key: string, lang: Language): string {
  return translations[lang]?.[key] || translations['en']?.[key] || key
}

export function detectLanguage(): Language {
  if (typeof window === 'undefined') return 'en'
  const lang = navigator.language.split('-')[0].toLowerCase()
  const map: Record<string, Language> = { en: 'en', es: 'es', zh: 'zh', hi: 'hi', fr: 'fr' }
  return map[lang] || 'en'
}
